#!/bin/bash

echo "üîß GU√çA PARA CONFIGURAR MONGODB ATLAS"
echo "===================================="
echo ""
echo "üìã PASOS A SEGUIR EN MONGODB ATLAS:"
echo ""
echo "1Ô∏è‚É£ Ve a: https://cloud.mongodb.com"
echo "2Ô∏è‚É£ Inicia sesi√≥n con tu cuenta"
echo "3Ô∏è‚É£ Selecciona tu proyecto/cluster"
echo "4Ô∏è‚É£ Ve a 'Network Access' (en el men√∫ lateral)"
echo "5Ô∏è‚É£ Haz clic en 'ADD IP ADDRESS'"
echo "6Ô∏è‚É£ Selecciona 'ALLOW ACCESS FROM ANYWHERE'"
echo "7Ô∏è‚É£ O agregar manualmente: 0.0.0.0/0"
echo "8Ô∏è‚É£ Haz clic en 'Confirm'"
echo ""
echo "üìù CREDENCIALES ACTUALES:"
echo "Usuario: adelgadoq"
echo "Password: EOt9BLdXCNmZWekA"
echo "Cluster: cluster0.odu4rtq.mongodb.net"
echo "Database: delizia"
echo ""
echo "üîó STRING DE CONEXI√ìN:"
echo "mongodb+srv://adelgadoq:EOt9BLdXCNmZWekA@cluster0.odu4rtq.mongodb.net/delizia?retryWrites=true&w=majority"
echo ""
echo "‚ö†Ô∏è  IMPORTANTE: Sin este paso, Vercel no puede conectar a MongoDB"
echo ""

# Probar la conexi√≥n despu√©s de la configuraci√≥n
echo "üß™ PROBANDO CONEXI√ìN ACTUAL..."
curl -s -X GET "https://api-delizia.vercel.app/api/diagnostico" | grep -E "(success|error|mongoConnected)"

echo ""
echo "‚úÖ Despu√©s de configurar Network Access, ejecuta:"
echo "   curl -X GET 'https://api-delizia.vercel.app/api/diagnostico'"
